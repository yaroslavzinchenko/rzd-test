# Тестовое задание

## Запуск

1. Скачать репозиторий на локальную машину.
2. Перейти в папку с репозиторием.
3. Перейти в директорию `app`:
```shell
cd app
```

4. Установить пакеты:
```shell
composer install
```

5. Запустить окружение:
```shell
cd .. && docker-compose -f docker/docker-compose.yml up -d
```

6. Зайти в контейнер с приложением:
```shell
docker exec -it docker_app_1 bash
```

7. Запустить миграции БД:
```shell
php /var/www/app/yii migrate
```

При запуске миграций создадутся две таблицы: users и requests. В таблицы
будут добавлены данные.

![img_18.png](img_18.png)

![img_19.png](img_19.png)

Структура таблиц в БД следующая:

![img_20.png](img_20.png)

8. Создать папку для логов:
```angular2html
mkdir /var/www/app/log
```

9. Чтобы выйти из контейнера, вводим `exit`.

## Использование

Перейти по адресу http://www.example.com
![img_1.png](img_1.png)

Если видим что-то типа такого, необходимо добавить в файл hosts строку `127.0.0.1 www.example.com`.

Обновляем страницу. Показывает список всех пользователей.

![img_4.png](img_4.png)

Открываем страницу `www.example.com/request` для создания заявки. С помощью формы можно выбирать получателя 
и отправителя из списка пользователей, вводить текст заявки. 
При выборе пользователя данные о пользователе подгружаются с помощью Ajax и отображаются.

![img_7.png](img_7.png)

После отправки заявки получаем сообщение:

![img_8.png](img_8.png)

Перейдём на страницу пользователя, например `http://www.example.com/bfy9FU9DGtcCr7h1oib0tz0FokIaESQm`.

![img_11.png](img_11.png)

На странице отображаются данные пользователя, которому можно отправить сообщение, а также можно
выбрать отправителя и написать текст заявки.

Отправляем:

![img_12.png](img_12.png)

Перейдём в админку `http://www.example.com/admin/users` для управления пользователями:

![img_13.png](img_13.png)

С помощью админки просматривать, добавлять, удалять и редактировать пользователей.

![img_14.png](img_14.png)

![img_15.png](img_15.png)

![img_16.png](img_16.png)

По адресу `http://www.example.com/admin/requests` можно управлять заявками. Функционал тот же, что и 
с пользователями.

![img_17.png](img_17.png)